{
    "collab_server" : "",
    "contents" : "# Imports des données {#imports}\n\nCette partie présente l'utilisation du package *pmeasyr*.\n\nLe package prend en charge les données des quatre champs PMSI MCO, SSR, HAD, PSY ainsi que les RSF.\n\n## Les archives PMSI\n\n### Gestion des archives dans des répertoires\n\nPlacer les archives dans un répertoire, par exemple ici dans `~/Documents/data/mco` :\n\n![Archives MCO](images/archives_mco.png)\n\n\nVous noterez que pour chaque champ PMSI il est conseillé d'utiliser un répertoire indépendant, ceci est nécessaire dans la mesure où le nom des archives PMSI ne contient pas l'information champ MCO, RSF, etc., il faut organiser l'archivage champ par champ, dans des répertoires différents.\n\n![Un répertoire par champ PMSI](images/champ_par_champ.png)\n\n### Informations sur les archives\n\nLa fonction astat permet d'éditer des statistiques sommaires sur les fichiers contenus dans une archive.\n\n|Nom       |Fonction                                                                               |\n|:---------|:--------------------------------------------------------------------------------------|\n|[astat](https://github.com/IM-APHP/pmeasyr/tree/master/Rd_md/astat.Rmd)     |~ *.zip - Liste et volume des fichiers d'une archive PMSI|\n\n```{r eval = F}\n# Informations sur les fichiers : Date de creation, Taille\npmeasyr::astat(path = '~/Documents/data/mco/', \n               file = '750100042.2015.12.29012016174032.out.zip', \n               view = F)\n```\n\n\n### Dézippage\n\nCette partie du package facilite la manipulation des archives PMSI, fichiers de type :\n\n  - finess.annee.mois.date_et_heure_de_creation.in.zip\n  - finess.annee.mois.date_et_heure_de_creation.out.zip\n\nLes fonctions permettent de dezipper les fichiers depuis R en ligne de commande, sans intervention manuelle de l'utilisateur. L'avantage est d'obtenir un processus ne relevant pas d'interventions externes au logiciel R (pour pouvoir garder trace des etapes, et faciliter la reproduction, tout est inscrit dans un programme, dans un flux de processus). Une fois que les traitements et analyses sur les fichiers sont faits, il est possible d'effacer les archives egalement en ligne de commande.\n\nLe nom des fonctions dont l'objectif est de manipuler les **a**rchives commence par **a**.\n\n|Nom       |Fonction                                                                               |\n|:---------|:--------------------------------------------------------------------------------------|\n|[adezip](https://github.com/IM-APHP/pmeasyr/tree/master/Rd_md/adezip.Rmd)    |~ *.zip - Dezippe des fichiers de larchive PMSI                                        |\n|[adezip2](https://github.com/IM-APHP/pmeasyr/tree/master/Rd_md/adezip2.Rmd)   |~ *.zip - Dezippe des fichiers de l'archive PMSI, avec en parametre le nom de l'archive|\n\n\n```{r eval = F}\n# Dezippage uniquement des fichiers rsa, ano et tra du out 2015\n# Ex: 750100042.2015.12.20160130.153012.out.zip\npmeasyr::adezip(finess = 750100042, \n                annee = 2015, \n                mois = 12, \n                path = '~/Documents/data/mco', \n                liste = c(\"rsa\", \"ano\", \"tra\"), \n                type = \"out\")\n```\n![Après éxécution de `adezip()` sur des fichiers du *out*](images/archives_dezip.png)\n\n```{r eval = F}\n# Dezippage uniquement des fichiers rss, dmi et med du in 2014\n# Ex: 750100042.2015.12.20160130.153012.out.zip\npmeasyr::adezip(finess = 750100042, \n                annee = 2015, \n                mois = 12, \n                path = '~/Documents/data/mco', \n                liste = c(\"rss\", \"dmi\", \"med\"), \n                type = \"in\")\n```\n![Après éxécution de `adezip()` sur des fichiers du *in*](images/archives_mco_in.png)\n\n### adelete : effacer\n\nÀ la fin d'une étude, il est inutile de garder les fichiers dézippés hors de l'archives, on peut les effacern c'est ce que permet la fonction `adelete()`.\n\n```{r eval = F}\n# Effacer les fichiers\npmeasyr::adelete(finess = 750100042, \n                 annee = 2015, \n                 mois = 12, \n                 path = '~/Documents/data/mco', \n                 liste = c(\"rsa\", \"ano\", \"tra\"), \n                 type = \"out\")\n\npmeasyr::adelete(finess = 750100042, \n                 annee = 2015, \n                 mois = 12, \n                 path = '~/Documents/data/mco', \n                 liste = c(\"rss\", \"med\", \"dmi\"), \n                 type = \"in\")\n```\n\n### astat : editer des statistiques\n\n```{r eval = F}\n# Informations sur les fichiers : Date de creation, Taille\nastat(path = '~/Documents/data/mco/', \n      file = '750100042.2015.12.29012016174032.out.zip', \n      view = F)\n```\n",
    "created" : 1486692481859.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3854207807",
    "id" : "A8FC8FE9",
    "lastKnownWriteTime" : 1486695622,
    "last_content_update" : 1486695622807,
    "path" : "~/Documents/bookdown/pmeasyr-book/01-Imports.Rmd",
    "project_path" : "01-Imports.Rmd",
    "properties" : {
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}